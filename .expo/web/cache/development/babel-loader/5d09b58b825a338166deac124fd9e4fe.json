{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Home from \"../Home/Home\";\nimport Loading from \"../components/Loading/Loading\";\nimport { HomeActionCreators } from \"../store/reducers/home/action-creators\";\nimport Error from \"../UI/Error\";\nimport { selectErrorInHome, selectIsLoadingInHome, selectPostsInHome } from \"../utils/selectors\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar HomeScreenContainer = function HomeScreenContainer() {\n  var dispatch = useDispatch();\n  var isLoading = useSelector(selectIsLoadingInHome);\n  var error = useSelector(selectErrorInHome);\n  var posts = useSelector(selectPostsInHome);\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      pagePortion = _useState2[0],\n      setPagePortion = _useState2[1];\n\n  var fetchMorePosts = function fetchMorePosts() {\n    if (pagePortion < 10) {\n      setPagePortion(function (prev) {\n        return prev + 1;\n      });\n    }\n  };\n\n  console.log(posts, error);\n  useEffect(function () {\n    var ignore = false;\n\n    if (!ignore) {\n      dispatch(HomeActionCreators.getPostsValid(pagePortion));\n    }\n\n    return function () {\n      ignore = true;\n    };\n  }, [pagePortion]);\n  return isLoading && !posts.length ? _jsx(Loading, {}) : error ? _jsx(Error, {\n    text: error\n  }) : _jsx(Home, {\n    isLoading: isLoading,\n    posts: posts,\n    fetchMorePosts: fetchMorePosts,\n    setPagePortion: setPagePortion\n  });\n};\n\nexport default HomeScreenContainer;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Home","Loading","HomeActionCreators","Error","selectErrorInHome","selectIsLoadingInHome","selectPostsInHome","HomeScreenContainer","dispatch","isLoading","error","posts","pagePortion","setPagePortion","fetchMorePosts","prev","console","log","ignore","getPostsValid","length"],"sources":["C:/www/learning-RN/src/screens/HomeScreenContainer.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Home from \"../Home/Home\";\r\nimport Loading from \"../components/Loading/Loading\";\r\nimport { HomeActionCreators } from \"../store/reducers/home/action-creators\";\r\nimport Error from \"../UI/Error\";\r\nimport { selectErrorInHome, selectIsLoadingInHome, selectPostsInHome } from \"../utils/selectors\";\r\n\r\nconst HomeScreenContainer = () => {\r\n    const dispatch = useDispatch()\r\n    const isLoading = useSelector(selectIsLoadingInHome)\r\n    const error = useSelector(selectErrorInHome)\r\n    const posts = useSelector(selectPostsInHome)\r\n    const [pagePortion, setPagePortion] = useState(1)\r\n \r\n    const fetchMorePosts = () => {\r\n        if(pagePortion < 10) {\r\n            setPagePortion((prev => prev + 1))\r\n        }\r\n    }\r\n\r\n    console.log(posts, error)\r\n    useEffect(() => {\r\n        let ignore = false\r\n        if(!ignore) {\r\n            dispatch(HomeActionCreators.getPostsValid(pagePortion))\r\n        }\r\n\r\n        return () => {\r\n            ignore = true\r\n        }\r\n    }, [pagePortion])\r\n    \r\n\r\n    return (\r\n        isLoading && !posts.length ? <Loading/>\r\n        : error ? <Error text={error}/>\r\n        : <Home isLoading={isLoading} posts={posts} fetchMorePosts={fetchMorePosts} setPagePortion={setPagePortion}/>\r\n    )\r\n}\r\n\r\nexport default HomeScreenContainer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,IAAP;AACA,OAAOC,OAAP;AACA,SAASC,kBAAT;AACA,OAAOC,KAAP;AACA,SAASC,iBAAT,EAA4BC,qBAA5B,EAAmDC,iBAAnD;;;AAEA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;EAC9B,IAAMC,QAAQ,GAAGV,WAAW,EAA5B;EACA,IAAMW,SAAS,GAAGV,WAAW,CAACM,qBAAD,CAA7B;EACA,IAAMK,KAAK,GAAGX,WAAW,CAACK,iBAAD,CAAzB;EACA,IAAMO,KAAK,GAAGZ,WAAW,CAACO,iBAAD,CAAzB;;EACA,gBAAsCV,QAAQ,CAAC,CAAD,CAA9C;EAAA;EAAA,IAAOgB,WAAP;EAAA,IAAoBC,cAApB;;EAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;IACzB,IAAGF,WAAW,GAAG,EAAjB,EAAqB;MACjBC,cAAc,CAAE,UAAAE,IAAI;QAAA,OAAIA,IAAI,GAAG,CAAX;MAAA,CAAN,CAAd;IACH;EACJ,CAJD;;EAMAC,OAAO,CAACC,GAAR,CAAYN,KAAZ,EAAmBD,KAAnB;EACAb,SAAS,CAAC,YAAM;IACZ,IAAIqB,MAAM,GAAG,KAAb;;IACA,IAAG,CAACA,MAAJ,EAAY;MACRV,QAAQ,CAACN,kBAAkB,CAACiB,aAAnB,CAAiCP,WAAjC,CAAD,CAAR;IACH;;IAED,OAAO,YAAM;MACTM,MAAM,GAAG,IAAT;IACH,CAFD;EAGH,CATQ,EASN,CAACN,WAAD,CATM,CAAT;EAYA,OACIH,SAAS,IAAI,CAACE,KAAK,CAACS,MAApB,GAA6B,KAAC,OAAD,KAA7B,GACEV,KAAK,GAAG,KAAC,KAAD;IAAO,IAAI,EAAEA;EAAb,EAAH,GACL,KAAC,IAAD;IAAM,SAAS,EAAED,SAAjB;IAA4B,KAAK,EAAEE,KAAnC;IAA0C,cAAc,EAAEG,cAA1D;IAA0E,cAAc,EAAED;EAA1F,EAHN;AAKH,CA/BD;;AAiCA,eAAeN,mBAAf"},"metadata":{},"sourceType":"module"}