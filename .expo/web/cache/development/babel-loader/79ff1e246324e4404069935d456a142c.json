{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { rules } from \"../../utils/rules\";\nimport styled from \"styled-components/native\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectErrorinAuth, selectIsLoadingInAuth } from \"../../utils/selectors\";\nimport { AuthActionCreators } from \"../../store/reducers/auth/action-creators\";\nimport Error from \"../../UI/Error\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LoginFormStyled = styled.View(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\nheight: 333;\\nborder-width: 3;\\nborder-color: #27569C;\\npadding: 10px;\\nborder-radius: 6px;\\njustify-content: center;\\n\"])));\nvar FormItem = styled.View(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\nflex-direction: row;\\nflex-wrap: wrap;\\nmargin-bottom: 10px;\\n\"])));\nvar Label = styled.Text(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"\\njustify-content: center;\\nfont-size: 24px;\\n\"])));\nvar Form = styled.View(_templateObject4 || (_templateObject4 = _taggedTemplateLiteralLoose([\"\\npadding: 20px;\\n\"])));\nvar Input = styled.TextInput(_templateObject5 || (_templateObject5 = _taggedTemplateLiteralLoose([\"\\nwidth: 100%;\\nborder-width: 1;\\nborder-color: #27569C;\\nborder-radius: 5;\\npadding-horizontal: 10;\\nmargin-vertical: 5;\\nheight: 39px;\\n\"])));\n\nvar LoginForm = function LoginForm() {\n  var _useForm = useForm(),\n      control = _useForm.control,\n      handleSubmit = _useForm.handleSubmit,\n      resetField = _useForm.resetField,\n      errors = _useForm.formState.errors;\n\n  var isLoading = useSelector(selectIsLoadingInAuth);\n  var error = useSelector(selectErrorinAuth);\n  var dispatch = useDispatch();\n  if (errors.login || errors.password) dispatch(AuthActionCreators.setError(''));\n\n  var onSubmit = function onSubmit(d) {\n    console.log(d);\n    dispatch(AuthActionCreators.signIn(d));\n    resetField('login');\n    resetField('password');\n  };\n\n  return _jsxs(LoginFormStyled, {\n    children: [_jsx(Text, {\n      style: {\n        position: 'absolute',\n        top: 0,\n        width: '100%',\n        textAlign: 'center',\n        fontSize: 24,\n        color: '#27569C'\n      },\n      children: \"Autorization\"\n    }), _jsxs(Form, {\n      children: [_jsxs(FormItem, {\n        children: [_jsx(Label, {\n          children: \"login\"\n        }), _jsx(Controller, {\n          name: \"login\",\n          rules: rules.required(),\n          control: control,\n          render: function render(_ref) {\n            var _ref$field = _ref.field,\n                onChange = _ref$field.onChange,\n                value = _ref$field.value,\n                onBlur = _ref$field.onBlur;\n            return _jsx(TextInput, {\n              style: styles.input,\n              onChangeText: onChange,\n              value: value,\n              onBlur: onBlur\n            });\n          }\n        }), errors.login && _jsx(Error, {\n          text: 'This is required.'\n        })]\n      }), _jsxs(FormItem, {\n        children: [_jsx(Label, {\n          children: \"password\"\n        }), _jsx(Controller, {\n          name: \"password\",\n          rules: rules.required(),\n          control: control,\n          render: function render(_ref2) {\n            var _ref2$field = _ref2.field,\n                onChange = _ref2$field.onChange,\n                value = _ref2$field.value,\n                onBlur = _ref2$field.onBlur;\n            return _jsx(TextInput, {\n              style: styles.input,\n              onChangeText: onChange,\n              value: value,\n              onBlur: onBlur,\n              secureTextEntry: true\n            });\n          }\n        }), error && _jsx(Error, {\n          text: error\n        }), errors.password && _jsx(Error, {\n          text: 'This is required.'\n        })]\n      }), _jsx(Button, {\n        onPress: handleSubmit(onSubmit),\n        title: \"Submit\",\n        color: \"#E4B062\",\n        disabled: isLoading\n      })]\n    }), isLoading && _jsx(ActivityIndicator, {\n      style: {\n        marginLeft: 10,\n        position: 'absolute',\n        bottom: 20,\n        width: '100%',\n        textAlign: 'center'\n      }\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  input: {\n    width: '100%',\n    borderWidth: 1,\n    borderColor: '#27569C',\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    marginVertical: 5,\n    height: 39\n  }\n});\nexport default LoginForm;","map":{"version":3,"names":["React","useForm","Controller","rules","styled","useDispatch","useSelector","selectErrorinAuth","selectIsLoadingInAuth","AuthActionCreators","Error","LoginFormStyled","View","FormItem","Label","Text","Form","Input","TextInput","LoginForm","control","handleSubmit","resetField","errors","formState","isLoading","error","dispatch","login","password","setError","onSubmit","d","console","log","signIn","position","top","width","textAlign","fontSize","color","required","field","onChange","value","onBlur","styles","input","marginLeft","bottom","StyleSheet","create","borderWidth","borderColor","borderRadius","paddingHorizontal","marginVertical","height"],"sources":["C:/www/learning-RN/src/components/LoginForm/LoginForm.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { View, TextInput, Button, Text, StyleSheet, ActivityIndicator } from \"react-native\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { rules } from \"../../utils/rules\";\r\nimport styled from \"styled-components/native\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectErrorinAuth, selectIsLoadingInAuth } from \"../../utils/selectors\";\r\nimport { AuthActionCreators } from \"../../store/reducers/auth/action-creators\";\r\nimport Error from \"../../UI/Error\";\r\n\r\nconst LoginFormStyled = styled.View`\r\nheight: 333;\r\nborder-width: 3;\r\nborder-color: #27569C;\r\npadding: 10px;\r\nborder-radius: 6px;\r\njustify-content: center;\r\n`\r\nconst FormItem = styled.View`\r\nflex-direction: row;\r\nflex-wrap: wrap;\r\nmargin-bottom: 10px;\r\n`\r\nconst Label = styled.Text`\r\njustify-content: center;\r\nfont-size: 24px;\r\n`\r\nconst Form = styled.View`\r\npadding: 20px;\r\n`\r\n\r\nconst Input = styled.TextInput`\r\nwidth: 100%;\r\nborder-width: 1;\r\nborder-color: #27569C;\r\nborder-radius: 5;\r\npadding-horizontal: 10;\r\nmargin-vertical: 5;\r\nheight: 39px;\r\n`\r\n\r\n\r\n\r\nconst LoginForm = () => {\r\n    const {control, handleSubmit, resetField, formState: {errors}} = useForm()\r\n    const isLoading = useSelector(selectIsLoadingInAuth)\r\n    const error = useSelector(selectErrorinAuth)\r\n    const dispatch = useDispatch()\r\n\r\n    if (errors.login || errors.password) dispatch(AuthActionCreators.setError(''))\r\n\r\n    const onSubmit = (d) => {\r\n        console.log(d)\r\n        dispatch(AuthActionCreators.signIn(d))\r\n        resetField('login')\r\n        resetField('password')\r\n    }\r\n\r\n    return (\r\n        <LoginFormStyled>\r\n            <Text style={{position: 'absolute', top: 0, width: '100%', textAlign: 'center', fontSize: 24, color: '#27569C'}}>Autorization</Text>\r\n            <Form>\r\n                <FormItem>\r\n                    <Label>login</Label>\r\n                    <Controller\r\n                        name=\"login\"\r\n                        rules={\r\n                            rules.required()\r\n                        }\r\n                        control={control}\r\n                        render={({field: {onChange, value, onBlur}}) => (\r\n                            <TextInput style={styles.input}\r\n                                onChangeText={onChange}\r\n                                value={value}\r\n                                onBlur={onBlur}\r\n                            />\r\n                        )}\r\n                    />\r\n                    {errors.login && <Error text={'This is required.'}/>}\r\n                    \r\n                </FormItem>\r\n                <FormItem>\r\n                    <Label>password</Label>\r\n                    <Controller\r\n                        name=\"password\"\r\n                        rules={\r\n                            rules.required()\r\n                        }\r\n                        control={control}\r\n                        render={({field: {onChange, value, onBlur}}) => (\r\n                            <TextInput style={styles.input}\r\n                                onChangeText={onChange}\r\n                                value={value}\r\n                                onBlur={onBlur}\r\n                                secureTextEntry={true}\r\n                            />\r\n                        )}\r\n                    />\r\n                    {error && <Error text={error}/>}\r\n                    {errors.password && <Error text={'This is required.'}/>}\r\n                </FormItem>\r\n                <Button\r\n                    onPress={handleSubmit(onSubmit)}\r\n                    title=\"Submit\"\r\n                    color=\"#E4B062\"\r\n                    disabled={isLoading}\r\n                />\r\n            </Form>\r\n            {isLoading && <ActivityIndicator style={{marginLeft: 10, position: 'absolute', bottom: 20, width: '100%', textAlign: 'center'}}/>}\r\n        </LoginFormStyled>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    input: {\r\n        width: '100%',\r\n        borderWidth: 1,\r\n        borderColor: '#27569C',\r\n        borderRadius: 5,\r\n        paddingHorizontal: 10,\r\n        marginVertical: 5,\r\n        height: 39,\r\n    }\r\n})\r\n\r\nexport default LoginForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}